#!/bin/sh

setxkbmap -option caps:super && killall xcape 2>/dev/null ; xcape -e 'Super_L=Escape' &
xmodmap -e 'keycode 105 = Caps_Lock' &
xmodmap -e 'keycode 135 = Super_R' &
wal -n -R

eval $(ssh-agent -s)
eval $(hub alias -s)

sxhkd -m 1 &	# Bind keys
xset r rate 200 50 &
unclutter &		# Remove mouse when idle
xcompmgr &		# xcompmgr for transparency
dunst &			# dunst for notifications
mpdupdate &

xrdb -merge "$XDG_CONFIG_HOME/X11/Xresources"
redshift -P -O 5000

if [[ $(xrandr --listmonitors | head -n 1 | awk '{print $2}') -eq 2 ]]; then
    source "$XDG_CONFIG_HOME/screenlayout/default.sh"
else
    source "$XDG_CONFIG_HOME/screenlayout/one_monitor.sh"
fi

gpg-agent --homedir /home/otlin/.config/gnupg --daemon
setbg &

exec i3
