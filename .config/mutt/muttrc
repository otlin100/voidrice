# vim: filetype=neomuttrc
source /usr/share/mutt-wizard/mutt-wizard.muttrc # mw-autogenerated
source /home/otlin/.config/mutt/accounts/1-hhu.muttrc # mw-autogenerated

macro index,pager i1 '<sync-mailbox><enter-command>source /home/otlin/.config/mutt/accounts/1-hhu.muttrc<enter><change-folder>!<enter>;<check-stats>' "switch to otto.lin@hhu.de" # mw-autogenerated
macro index,pager i2 '<sync-mailbox><enter-command>source /home/otlin/.config/mutt/accounts/2-outlook.muttrc<enter><change-folder>!<enter>;<check-stats>' "switch to ottolin@outlook.de" # mw-autogenerated
macro index,pager i3 '<sync-mailbox><enter-command>source /home/otlin/.config/mutt/accounts/3-gmail.muttrc<enter><change-folder>!<enter>;<check-stats>' "switch to 0ttolin42.ol@gmail.com" # mw-autogenerated
macro index,pager i4 '<sync-mailbox><enter-command>source /home/otlin/.config/mutt/accounts/4-sipgate.muttrc<enter><change-folder>!<enter>;<check-stats>' "switch to lin@sipgate.de" # mw-autogenerated
macro index,pager i5 '<sync-mailbox><enter-command>source /home/otlin/.config/mutt/accounts/5-archive.muttrc<enter><change-folder>!<enter>;<check-stats>'

source /home/otlin/.config/mutt/formats/default.muttrc

set date_format="%d.%m.%y %H:%M"
set sidebar_format = '%B%?F? %F!?%* %?N?%N/? %?S?%S?'

set confirmappend = no
set delete = yes

macro generic <F2> "<enter-command>source $XDG_CONFIG_HOME/mutt/muttrc<enter><change-folder>!<enter><check-stats>"
macro generic <F3> "<shell-escape>nvim $XDG_CONFIG_HOME/mutt/muttrc<enter>"
macro generic <F4> "<shell-escape>nvim $XDG_CONFIG_HOME/mutt/.mbsync.log<enter>"
macro generic <F5> "<shell-escape>nvim $XDG_CONFIG_HOME/abook/addressbook<enter>"

bind pager,alias,attach,browser,compose h exit

bind index gd delete-pattern
bind index <return> limit
macro index O "<shell-escape>mailsync 2>&1 | sed 's/^/parent: /' >> $XDG_CONFIG_HOME/mutt/.mbsync.log &<enter>" "run mailsync to sync all mail"
macro index MM "<save-message>?"
macro index MC "<copy-message>?"

bind index,pager gr compose-to-sender
bind index,pager <esc>m compose-to-sender
bind index,pager H display-toggle-weed
macro index,pager \Ck "<sidebar-prev><sidebar-open>"
macro index,pager \Cj "<sidebar-next><sidebar-open>"

bind compose l view-attach

bind alias l select-entry

bind attach <space> tag-entry
macro attach s "<save-entry><bol>~/Downloads/<return>" "Save to Downloads"

bind editor <esc> noop
macro editor <esc> "<kill-line><return>"
